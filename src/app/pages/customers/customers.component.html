<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title mb-0 flex-grow-1">{{ title | translate }}</h4>
            </div>
            <div class="card-body">
                <dx-data-grid #grid [dataSource]="data" (onSaved)="saved($event)" (onRowUpdated)="reload()" (onRowInserted)="reload()">
                    <dxo-toolbar>
                        <dxi-item name="groupPanel"></dxi-item>
                        <dxi-item location="after">
                            <div *dxTemplate>
                                <dx-button stylingMode="text" (click)="newCustomer()" icon="add" [text]="'New' | translate"></dx-button>
                            </div>
                        </dxi-item>
                        <dxi-item location="after">
                            <div *dxTemplate>
                                <dx-button stylingMode="text" icon="refresh" (onClick)="reload()"></dx-button>
                            </div>
                        </dxi-item>
                        <dxi-item name="exportButton"></dxi-item>
                        <dxi-item name="columnChooserButton"></dxi-item>
                        <dxi-item name="searchPanel"></dxi-item>
                    </dxo-toolbar>
                    <dxi-column dataField="code" caption="{{ 'Code' | translate }}"></dxi-column>
                    <dxi-column dataField="name" caption="{{ 'Name' | translate }}">
                        <dxi-validation-rule type="required"></dxi-validation-rule>
                    </dxi-column>
                    <dxi-column dataField="vatID" caption="{{ 'VAT ID' | translate }}">
                        <dxi-validation-rule type="stringLength" [ignoreEmptyValue]="true" min="11"></dxi-validation-rule>
                    </dxi-column>
                    <dxi-column dataField="address" caption="{{ 'Address' | translate }}"></dxi-column>
                    <dxi-column dataField="city" caption="{{ 'City' | translate }}"></dxi-column>
                    <dxi-column dataField="postal" caption="{{ 'Postal Code' | translate }}"></dxi-column>
                    <dxi-column dataField="country" caption="{{ 'Country' | translate }}">
                        <dxo-lookup [dataSource]="countries" displayExpr="countryName" valueExpr="countryName"></dxo-lookup>
                    </dxi-column>
                    <dxi-column dataField="phone" caption="{{ 'Phone' | translate }}"></dxi-column>
                    <dxi-column dataField="fax" caption="{{ 'Fax' | translate }}"></dxi-column>
                    <dxi-column dataField="mobile" caption="{{ 'Mobile' | translate }}"></dxi-column>
                    <dxi-column dataField="email" caption="{{ 'Email' | translate }}">
                        <dxi-validation-rule type="email"></dxi-validation-rule>
                    </dxi-column>
                    <dxi-column dataField="web" caption="{{ 'Website' | translate }}"></dxi-column>
                    <dxi-column dataField="iban" caption="{{ 'IBAN' | translate }}">
                        <dxi-validation-rule type="stringLength" [ignoreEmptyValue]="true" min="15" max="33"></dxi-validation-rule>
                    </dxi-column>
                    <dxi-column dataField="note" caption="{{ 'Note' | translate }}"></dxi-column>
                    <dxi-column dataField="due" caption="{{ 'Due Amount' | translate }}" dataType="number"></dxi-column>
                    <dxi-column [visible]="false" dataField="created" caption="{{ 'Created' | translate }}" dataType="date" format="dd.MM.yyyy, HH:mm"></dxi-column>
                    <dxi-column [visible]="false" dataField="updated" caption="{{ 'Updated' | translate }}" dataType="date" format="dd.MM.yyyy, HH:mm"></dxi-column>
                </dx-data-grid>
            </div>
        </div>
    </div>
</div>